# Virtual Hosts
#
# Required modules: mod_log_config

# If you want to maintain multiple domains/hostnames on your
# machine you can setup VirtualHost containers for them. Most configurations
# use only name-based virtual hosts so the server doesn't need to worry about
# IP addresses. This is indicated by the asterisks in the directives below.
#
# Please see the documentation at 
# <URL:http://httpd.apache.org/docs/2.4/vhosts/>
# for further details before you try to setup virtual hosts.
#
# You may use the command line option '-S' to verify your virtual host
# configuration.

#
# VirtualHost example:
# Almost any Apache directive may go into a VirtualHost container.
# The first VirtualHost section is used for all requests that do not
# match a ServerName or ServerAlias in any <VirtualHost> block.
#
<VirtualHost *:80>
  ServerName rat_server

  LogLevel debug
# ## Vhost docroot
#DocumentRoot "/usr/local/apache2"
  WSGIDaemonProcess ratapi display-name=(wsgi:ratapi) processes=2 threads=2 user=fbrat group=fbrat response-buffer-size=1048576 header-buffer-size=1048576 connect-timeout=60
  WSGIProcessGroup ratapi
  WSGIApplicationGroup %{GLOBAL}
  # Apache does not process auth'n/auth'z
  WSGIPassAuthorization on

# ## Directories, there should at least be a declaration for /var/www/html

  # Order of aliases matters
  # GLib uses PyGILState_* API and so does not support subinterpreter use
  #WSGIScriptAlias /fbrat /usr/local/apache2/fbrat.wsgi process-group=ratapi application-group=%{GLOBAL}
  WSGIScriptAlias /fbrat /usr/local/apache2/fbrat.wsgi
  <Directory "/usr/local/apache2">
    WSGIScriptReloading On
    <Files fbrat.wsgi>
      Require all granted
    </Files>
  </Directory>

 Alias /fbrat/www/ /usr/share/fbrat/www/
 <Directory /usr/share/fbrat/www>
   Options Indexes FollowSymLinks MultiViews
#  AllowOverride none
   Require all granted
 </Directory>

  # Assume the application redirects a browser
# RedirectMatch ^/$ /fbrat

  ## Logging
  ServerSignature On
  #ProxyPassReverse /dbg http://objst:4999/dbg
  #ProxyPass /dbg http://objst:4999/dbg
  #ProxyPreserveHost On
  #ProxyRequests Off
</VirtualHost>
